<!doctype html>
<html>
	<head>
	  <title>Name Comp: content visibility (Tentative)</title>
	  <script src="/resources/testharness.js"></script>
	  <script src="/resources/testharnessreport.js"></script>
	  <script src="/resources/testdriver.js"></script>
	  <script src="/resources/testdriver-vendor.js"></script>
	  <script src="/resources/testdriver-actions.js"></script>
	  <script src="/wai-aria/scripts/aria-utils.js"></script>
	</head>
	<body>

		<h1>Testing accessibility of content-visibility: auto</h1>

	  <h2>Accname</h2>
	  
	  <div style="height:5px; overflow:scroll;">
		  <div>
		  	<p>Some content</p>
		  	<p>Some content</p>
		  	<p>Some content</p>
		  	<p>Some content</p>
		  	<p>Some content</p>
		  </div>
		  <div style="content-visibility:auto"> 
		  	<h2 class="el">test heading</h2>
		    <button class="el">test button</button>
		    <a class="el" href="#">test link</a>
		  </div>
	  </div>
		
		<script>
		  const els = document.querySelectorAll('.el');
		  if (!els.length) {
		    throw `No`;
		  }
		  for (const el of els) {
		    promise_test(async t => {
		      let computedLabel = await test_driver.get_computed_label(el);
		      let computedRole = await test_driver.get_computed_role(el);

		      console.log('el-text-content: '+el.textContent+'; comp-role-f: '+computedRole+'; comp-label-f: '+computedLabel);
		    })
		  }
		</script>

	</body>
</html>
